"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validate = exports.transform = void 0;

var transform = function transform(input) {
  var parsedDate = input.WT.match(/Date\(([0-9]*)\)/);

  if (!parsedDate || !Array.isArray(parsedDate) || !parsedDate[1]) {
    throw new Error('Unable to parse dexcom object');
  }

  return {
    date: new Date(parseInt(parsedDate[1], 10)),
    value: input.Value,
    trend: input.Trend
  };
};

exports.transform = transform;

var validate = function validate(payload) {
  return payload.data !== '00000000-0000-0000-0000-000000000000';
};

exports.validate = validate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy50cyJdLCJuYW1lcyI6WyJ0cmFuc2Zvcm0iLCJpbnB1dCIsInBhcnNlZERhdGUiLCJXVCIsIm1hdGNoIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJkYXRlIiwiRGF0ZSIsInBhcnNlSW50IiwidmFsdWUiLCJWYWx1ZSIsInRyZW5kIiwiVHJlbmQiLCJ2YWxpZGF0ZSIsInBheWxvYWQiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBdUJPLElBQU1BLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUNDLEtBQUQsRUFBd0M7QUFDL0QsTUFBTUMsVUFBVSxHQUFHRCxLQUFLLENBQUNFLEVBQU4sQ0FBU0MsS0FBVCxDQUFlLGtCQUFmLENBQW5COztBQUVBLE1BQUksQ0FBQ0YsVUFBRCxJQUFlLENBQUNHLEtBQUssQ0FBQ0MsT0FBTixDQUFjSixVQUFkLENBQWhCLElBQTZDLENBQUNBLFVBQVUsQ0FBQyxDQUFELENBQTVELEVBQWlFO0FBQy9ELFVBQU0sSUFBSUssS0FBSixDQUFVLCtCQUFWLENBQU47QUFDRDs7QUFFRCxTQUFPO0FBQ0xDLElBQUFBLElBQUksRUFBRSxJQUFJQyxJQUFKLENBQVNDLFFBQVEsQ0FBQ1IsVUFBVSxDQUFDLENBQUQsQ0FBWCxFQUFnQixFQUFoQixDQUFqQixDQUREO0FBRUxTLElBQUFBLEtBQUssRUFBRVYsS0FBSyxDQUFDVyxLQUZSO0FBR0xDLElBQUFBLEtBQUssRUFBRVosS0FBSyxDQUFDYTtBQUhSLEdBQVA7QUFLRCxDQVpNOzs7O0FBY0EsSUFBTUMsUUFBUSxHQUFHLFNBQVhBLFFBQVcsQ0FBQ0MsT0FBRDtBQUFBLFNBQ3RCQSxPQUFPLENBQUNDLElBQVIsS0FBaUIsc0NBREs7QUFBQSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5cbnR5cGUgRGV4Y29tVHJlbmRUeXBlID1cbiAgfCAnRG91YmxlRG93bidcbiAgfCAnU2luZ2xlRG93bidcbiAgfCAnRm9ydHlGaXZlRG93bidcbiAgfCAnRmxhdCdcbiAgfCAnRm9ydHlGaXZlVXAnXG4gIHwgJ1NpbmdsZVVwJ1xuICB8ICdEb3VibGVVcCc7XG50eXBlIERleGNvbURhdGFUeXBlID0ge1xuICBXVDogc3RyaW5nO1xuICBTVDogc3RyaW5nO1xuICBEVDogc3RyaW5nO1xuICBWYWx1ZTogbnVtYmVyO1xuICBUcmVuZDogRGV4Y29tVHJlbmRUeXBlO1xufTtcblxuZXhwb3J0IHR5cGUgQ0dNRGF0YVR5cGUgPSB7XG4gIGRhdGU6IERhdGU7XG4gIHZhbHVlOiBudW1iZXI7XG4gIHRyZW5kOiBEZXhjb21UcmVuZFR5cGU7XG59O1xuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChpbnB1dDogRGV4Y29tRGF0YVR5cGUpOiBDR01EYXRhVHlwZSA9PiB7XG4gIGNvbnN0IHBhcnNlZERhdGUgPSBpbnB1dC5XVC5tYXRjaCgvRGF0ZVxcKChbMC05XSopXFwpLyk7XG5cbiAgaWYgKCFwYXJzZWREYXRlIHx8ICFBcnJheS5pc0FycmF5KHBhcnNlZERhdGUpIHx8ICFwYXJzZWREYXRlWzFdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgZGV4Y29tIG9iamVjdCcpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkYXRlOiBuZXcgRGF0ZShwYXJzZUludChwYXJzZWREYXRlWzFdLCAxMCkpLFxuICAgIHZhbHVlOiBpbnB1dC5WYWx1ZSxcbiAgICB0cmVuZDogaW5wdXQuVHJlbmQsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGUgPSAocGF5bG9hZDogQXhpb3NSZXNwb25zZSkgPT5cbiAgcGF5bG9hZC5kYXRhICE9PSAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJztcbiJdfQ==